<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(content, pageTitle, activePage)">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title th:text="${pageTitle} ?: 'DFC Hangul'">DFC Hangul</title>

  <!-- Google Fonts: Korean-friendly -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800&family=Gowun+Dodum&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/styles.css?v=3" />
</head>
<body>
  <!-- Top ribbon -->
  <div class="ribbon"></div>

  <!-- Header / Navbar -->
  <header class="container header">
    <a class="brand" th:href="@{/}">
      <span class="taegeuk" aria-hidden="true"></span>
      <span class="brand-text">
        <span class="brand-kr">DFC 한글</span>
        <span class="brand-en">DFC Hangul</span>
      </span>
    </a>

    <!-- Mobile menu button -->
    <button class="nav-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="site-nav">☰</button>

    <nav id="site-nav" class="nav">
      <a th:href="@{/about}"    th:classappend="${activePage}=='about' ? 'active'">About</a>
      <a th:href="@{/officers}" th:classappend="${activePage}=='officers' ? 'active'">Officers</a>
      <a th:href="@{/lessons}"  th:classappend="${activePage}=='lessons' ? 'active'">Language Lessons</a>
      <a th:href="@{/club}"     th:classappend="${activePage}=='club' ? 'active'">Club</a>
      <a th:href="@{/events}"   th:classappend="${activePage}=='events' ? 'active'">Events</a>
    </nav>
  </header>

  <!-- Content -->
  <main class="container">
    <div th:insert="${content}"></div>
  </main>

  <!-- Footer -->
  <footer class="container footer">
    <div class="footer-grid">
      <small>© <span th:text="${#dates.format(#dates.createNow(),'yyyy')}">2025</span> DFC Hangul</small>
      <small class="muted">한국어 & 문화 — Korean language & culture at UTD</small>
      <small class="muted">The University of Texas at Dallas · 800 W Campbell Rd, Richardson, TX 75080</small>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
  /* --- Mobile nav toggle --- */
  (function () {
    var btn = document.querySelector('.nav-toggle');
    var nav = document.getElementById('site-nav');
    if (!btn || !nav) return;

    btn.addEventListener('click', function () {
      var open = nav.classList.toggle('nav-open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      document.body.style.overflow = open ? 'hidden' : '';
    });

    nav.addEventListener('click', function (e) {
      if (e.target.tagName === 'A' && nav.classList.contains('nav-open')) {
        nav.classList.remove('nav-open');
        btn.setAttribute('aria-expanded', 'false');
        document.body.style.overflow = '';
      }
    });
  })();
  </script>
</body>
</html>
